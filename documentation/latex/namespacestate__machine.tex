\hypertarget{namespacestate__machine}{}\doxysection{state\+\_\+machine Namespace Reference}
\label{namespacestate__machine}\index{state\_machine@{state\_machine}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classstate__machine_1_1Normal}{Normal}}
\begin{DoxyCompactList}\small\item\em Define \mbox{\hyperlink{classstate__machine_1_1Normal}{Normal}} state. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classstate__machine_1_1Play}{Play}}
\begin{DoxyCompactList}\small\item\em Define \mbox{\hyperlink{classstate__machine_1_1Play}{Play}} state. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classstate__machine_1_1Sleep}{Sleep}}
\begin{DoxyCompactList}\small\item\em Define \mbox{\hyperlink{classstate__machine_1_1Sleep}{Sleep}} state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacestate__machine_a5ee9fea3c4940c04b9e685e4e2a9c353}{check\+For\+Ball}} (ros\+\_\+data)
\begin{DoxyCompactList}\small\item\em Use Open\+CV to check if the robot camera has detected a ball. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacestate__machine_ad3a2172b99a111225f39fae176133433}{track\+Ball}} (ros\+\_\+data)
\begin{DoxyCompactList}\small\item\em Use Open\+CV to check if the robot camera has detected a ball\+: if so, move the robot until the ball is at the center of the image and has a certain radius. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacestate__machine_a5c680ce705e6052fa07c6cece21743d0}{main}} ()
\begin{DoxyCompactList}\small\item\em State machine initialization. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacestate__machine_abdf29498cd11ccce76023d7ef8fcbf9c}{actC}} = None
\begin{DoxyCompactList}\small\item\em Action client. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacestate__machine_aa451da44a24807c98b1c1c8b0057f802}{vel\+Pub}} = None
\begin{DoxyCompactList}\small\item\em Publishers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacestate__machine_a05e0cf73dcb204ea34015c4d528cb3e1}{head\+Joint\+Pub}} = None
\item 
\mbox{\hyperlink{namespacestate__machine_af5d076232c59f18f0d27a136b2098bf5}{image\+Sub}} = None
\begin{DoxyCompactList}\small\item\em Subscriber. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacestate__machine_aa8bd1ef36a1404dde939b9bc6eb3769d}{pos}} = Pose\+Stamped()
\begin{DoxyCompactList}\small\item\em Goal pose. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespacestate__machine_a7208c861d7b3b5dd27f9540663669e19}{sleep\+Counter}} = 0
\begin{DoxyCompactList}\small\item\em Counter. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespacestate__machine_a75e5b1596cf603cc0e5491fee93b6a31}{ball\+Found}} = False
\begin{DoxyCompactList}\small\item\em Flag to notify that the robot has seen the ball. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespacestate__machine_aa457668bd6819a2457fbaa62baff2ae9}{robot\+Stopped}} = False
\begin{DoxyCompactList}\small\item\em Flag to notify that the robot has stopped. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Defines the different robot behaviours and the transitions between them. Available states are N\+O\+R\+M\+AL, S\+L\+E\+EP and P\+L\+AY. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacestate__machine_a5ee9fea3c4940c04b9e685e4e2a9c353}\label{namespacestate__machine_a5ee9fea3c4940c04b9e685e4e2a9c353}} 
\index{state\_machine@{state\_machine}!checkForBall@{checkForBall}}
\index{checkForBall@{checkForBall}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{checkForBall()}{checkForBall()}}
{\footnotesize\ttfamily def state\+\_\+machine.\+check\+For\+Ball (\begin{DoxyParamCaption}\item[{}]{ros\+\_\+data }\end{DoxyParamCaption})}



Use Open\+CV to check if the robot camera has detected a ball. 


\begin{DoxyParams}{Parameters}
{\em ros\+\_\+data} & The compressed image picked up by the camera \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacestate__machine_a5c680ce705e6052fa07c6cece21743d0}\label{namespacestate__machine_a5c680ce705e6052fa07c6cece21743d0}} 
\index{state\_machine@{state\_machine}!main@{main}}
\index{main@{main}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def state\+\_\+machine.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



State machine initialization. 

\mbox{\Hypertarget{namespacestate__machine_ad3a2172b99a111225f39fae176133433}\label{namespacestate__machine_ad3a2172b99a111225f39fae176133433}} 
\index{state\_machine@{state\_machine}!trackBall@{trackBall}}
\index{trackBall@{trackBall}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{trackBall()}{trackBall()}}
{\footnotesize\ttfamily def state\+\_\+machine.\+track\+Ball (\begin{DoxyParamCaption}\item[{}]{ros\+\_\+data }\end{DoxyParamCaption})}



Use Open\+CV to check if the robot camera has detected a ball\+: if so, move the robot until the ball is at the center of the image and has a certain radius. 

When the robot stops, raise a flag. 
\begin{DoxyParams}{Parameters}
{\em ros\+\_\+data} & The compressed image picked up by the camera \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacestate__machine_abdf29498cd11ccce76023d7ef8fcbf9c}\label{namespacestate__machine_abdf29498cd11ccce76023d7ef8fcbf9c}} 
\index{state\_machine@{state\_machine}!actC@{actC}}
\index{actC@{actC}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{actC}{actC}}
{\footnotesize\ttfamily state\+\_\+machine.\+actC = None}



Action client. 

\mbox{\Hypertarget{namespacestate__machine_a75e5b1596cf603cc0e5491fee93b6a31}\label{namespacestate__machine_a75e5b1596cf603cc0e5491fee93b6a31}} 
\index{state\_machine@{state\_machine}!ballFound@{ballFound}}
\index{ballFound@{ballFound}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{ballFound}{ballFound}}
{\footnotesize\ttfamily bool state\+\_\+machine.\+ball\+Found = False}



Flag to notify that the robot has seen the ball. 

\mbox{\Hypertarget{namespacestate__machine_a05e0cf73dcb204ea34015c4d528cb3e1}\label{namespacestate__machine_a05e0cf73dcb204ea34015c4d528cb3e1}} 
\index{state\_machine@{state\_machine}!headJointPub@{headJointPub}}
\index{headJointPub@{headJointPub}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{headJointPub}{headJointPub}}
{\footnotesize\ttfamily state\+\_\+machine.\+head\+Joint\+Pub = None}

\mbox{\Hypertarget{namespacestate__machine_af5d076232c59f18f0d27a136b2098bf5}\label{namespacestate__machine_af5d076232c59f18f0d27a136b2098bf5}} 
\index{state\_machine@{state\_machine}!imageSub@{imageSub}}
\index{imageSub@{imageSub}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{imageSub}{imageSub}}
{\footnotesize\ttfamily state\+\_\+machine.\+image\+Sub = None}



Subscriber. 

\mbox{\Hypertarget{namespacestate__machine_aa8bd1ef36a1404dde939b9bc6eb3769d}\label{namespacestate__machine_aa8bd1ef36a1404dde939b9bc6eb3769d}} 
\index{state\_machine@{state\_machine}!pos@{pos}}
\index{pos@{pos}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{pos}{pos}}
{\footnotesize\ttfamily state\+\_\+machine.\+pos = Pose\+Stamped()}



Goal pose. 

\mbox{\Hypertarget{namespacestate__machine_aa457668bd6819a2457fbaa62baff2ae9}\label{namespacestate__machine_aa457668bd6819a2457fbaa62baff2ae9}} 
\index{state\_machine@{state\_machine}!robotStopped@{robotStopped}}
\index{robotStopped@{robotStopped}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{robotStopped}{robotStopped}}
{\footnotesize\ttfamily bool state\+\_\+machine.\+robot\+Stopped = False}



Flag to notify that the robot has stopped. 

\mbox{\Hypertarget{namespacestate__machine_a7208c861d7b3b5dd27f9540663669e19}\label{namespacestate__machine_a7208c861d7b3b5dd27f9540663669e19}} 
\index{state\_machine@{state\_machine}!sleepCounter@{sleepCounter}}
\index{sleepCounter@{sleepCounter}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{sleepCounter}{sleepCounter}}
{\footnotesize\ttfamily int state\+\_\+machine.\+sleep\+Counter = 0}



Counter. 

\mbox{\Hypertarget{namespacestate__machine_aa451da44a24807c98b1c1c8b0057f802}\label{namespacestate__machine_aa451da44a24807c98b1c1c8b0057f802}} 
\index{state\_machine@{state\_machine}!velPub@{velPub}}
\index{velPub@{velPub}!state\_machine@{state\_machine}}
\doxysubsubsection{\texorpdfstring{velPub}{velPub}}
{\footnotesize\ttfamily state\+\_\+machine.\+vel\+Pub = None}



Publishers. 

